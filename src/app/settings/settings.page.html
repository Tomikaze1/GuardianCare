
<ion-content class="settings-content">
  
  <div class="logo-container">
    <div class="logo-wrapper">
      <div class="custom-logo">
        <ion-icon name="shield" class="shield-icon"></ion-icon>
        <ion-icon name="settings" class="settings-icon"></ion-icon>
      </div>
      <div class="logo-glow"></div>
    </div>
    <div class="app-title">{{ 'SETTINGS.TITLE' | translate }}</div>
    <div class="app-subtitle">{{ 'SETTINGS.SUBTITLE' | translate }}</div>
    <div class="title-underline"></div>
  </div>

  <div class="settings-form">
    
    <div class="form-row">
      <div class="section-header">
        <span>{{ 'SETTINGS.ACCOUNT_SECURITY' | translate }}</span>
        <div class="section-underline"></div>
      </div>
      
      <div class="settings-list">
        <div class="setting-item" (click)="changePassword()">
          <div class="setting-left">
            <ion-icon name="key-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.CHANGE_PASSWORD' | translate }}</span>
          </div>
          <ion-icon name="chevron-forward-outline" class="arrow-icon"></ion-icon>
        </div>

        <div class="setting-item" (click)="updateEmail()">
          <div class="setting-left">
            <ion-icon name="mail-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.UPDATE_EMAIL' | translate }}</span>
          </div>
          <ion-icon name="chevron-forward-outline" class="arrow-icon"></ion-icon>
        </div>

        <div class="setting-item" (click)="linkedDevices()">
          <div class="setting-left">
            <ion-icon name="watch-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.LINKED_DEVICES' | translate }}</span>
            <span class="setting-subtitle">{{ 'SETTINGS.LINKED_DEVICES_HINT' | translate }}</span>
          </div>
          <ion-icon name="chevron-forward-outline" class="arrow-icon"></ion-icon>
        </div>

        <div class="setting-item" (click)="twoFactorAuth()">
          <div class="setting-left">
            <ion-icon name="shield-checkmark-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.TWO_FACTOR_AUTH' | translate }}</span>
          </div>
          <ion-toggle [(ngModel)]="twoFactorEnabled" (ionChange)="toggleTwoFactor()"></ion-toggle>
        </div>
      </div>
    </div>

    
    <div class="form-row">
      <div class="section-header">
        <span>{{ 'SETTINGS.LOCATION_ALERTS' | translate }}</span>
        <div class="section-underline"></div>
      </div>
      
      <div class="settings-list">
        <div class="setting-item">
          <div class="setting-left">
            <ion-icon name="location-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.GPS_ACCESS' | translate }}</span>
          </div>
          <ion-toggle [(ngModel)]="gpsEnabled" (ionChange)="toggleGPS()"></ion-toggle>
        </div>

        <div class="setting-item">
          <div class="setting-left">
            <ion-icon name="time-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.TIME_BASED_ALERTS' | translate }}</span>
            <span class="setting-subtitle">{{ 'SETTINGS.TIME_BASED_ALERTS_HINT' | translate }}</span>
          </div>
          <ion-toggle [(ngModel)]="timeBasedAlerts" (ionChange)="toggleTimeBasedAlerts()"></ion-toggle>
        </div>

        <div class="setting-item">
          <div class="setting-left">
            <ion-icon name="warning-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.DANGER_ZONE_ALERTS' | translate }}</span>
            <span class="setting-subtitle">{{ 'SETTINGS.DANGER_ZONE_ALERTS_HINT' | translate }}</span>
          </div>
          <ion-toggle [(ngModel)]="dangerZoneAlerts" (ionChange)="toggleDangerZoneAlerts()"></ion-toggle>
        </div>

        <div class="setting-item" (click)="doNotDisturbSettings()">
          <div class="setting-left">
            <ion-icon name="moon-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.DO_NOT_DISTURB' | translate }}</span>
            <span class="setting-subtitle">{{ 'SETTINGS.DO_NOT_DISTURB_HINT' | translate }}</span>
          </div>
          <ion-toggle [(ngModel)]="doNotDisturbEnabled" (ionChange)="toggleDoNotDisturb()"></ion-toggle>
        </div>
      </div>
    </div>

    
    <div class="form-row">
      <div class="section-header">
        <span>{{ 'SETTINGS.NOTIFICATIONS' | translate }}</span>
        <div class="section-underline"></div>
      </div>
      
      <div class="settings-list">
        <div class="setting-item">
          <div class="setting-left">
            <ion-icon name="vibrate-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.SMART_VIBRATION' | translate }}</span>
          </div>
          <ion-toggle [(ngModel)]="smartVibration" (ionChange)="toggleSmartVibration()"></ion-toggle>
        </div>

        <div class="setting-item" (click)="alertSounds()">
          <div class="setting-left">
            <ion-icon name="volume-high-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.ALERT_SOUNDS' | translate }}</span>
          </div>
          <div class="setting-right">
            <span class="setting-value">{{selectedAlertSound}}</span>
            <ion-icon name="chevron-forward-outline" class="arrow-icon"></ion-icon>
          </div>
        </div>

        <div class="setting-item" (click)="languagePreference()">
          <div class="setting-left">
            <ion-icon name="globe-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.LANGUAGE_PREFERENCE' | translate }}</span>
          </div>
          <div class="setting-right">
            <span class="setting-value">{{getLanguageName(currentLanguage)}}</span>
            <ion-icon name="chevron-forward-outline" class="arrow-icon"></ion-icon>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-left">
            <ion-icon name="flash-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.PANIC_MODE_VISUALS' | translate }}</span>
            <span class="setting-subtitle">{{ 'SETTINGS.PANIC_MODE_HINT' | translate }}</span>
          </div>
          <ion-toggle [(ngModel)]="panicModeVisuals" (ionChange)="togglePanicModeVisuals()"></ion-toggle>
        </div>
      </div>
    </div>

    
    <div class="form-row">
      <div class="section-header">
        <span>{{ 'SETTINGS.LOCALIZATION' | translate }}</span>
        <div class="section-underline"></div>
      </div>
      
      <div class="settings-list">
        <div class="setting-item" (click)="appLanguage()">
          <div class="setting-left">
            <ion-icon name="language-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.APP_LANGUAGE' | translate }}</span>
          </div>
          <div class="setting-right">
            <span class="setting-value">{{getLanguageName(currentLanguage)}}</span>
            <ion-icon name="chevron-forward-outline" class="arrow-icon"></ion-icon>
          </div>
        </div>

        <div class="setting-item" (click)="units()">
          <div class="setting-left">
            <ion-icon name="scale-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.UNITS' | translate }}</span>
          </div>
          <div class="setting-right">
            <span class="setting-value">{{selectedUnit}}</span>
            <ion-icon name="chevron-forward-outline" class="arrow-icon"></ion-icon>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-left">
                                    <ion-icon name="language-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.TOURIST_TRANSLATION' | translate }}</span>
          </div>
          <ion-toggle [(ngModel)]="touristTranslationMode" (ionChange)="toggleTouristTranslation()"></ion-toggle>
        </div>
        <div class="setting-item">
          <div class="setting-left">
            <ion-icon name="grid-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.HOME_UI_MODE' | translate }}</span>
            <span class="setting-subtitle">{{ 'SETTINGS.HOME_UI_MODE_HINT' | translate }}</span>
          </div>
          <ion-segment value="{{homeUIMode}}" (ionChange)="onChangeHomeUiMode($event)" class="ui-mode-segment">
            <ion-segment-button value="sidebar">
              <ion-label>{{ 'SETTINGS.HOME_UI_SIDEBAR' | translate }}</ion-label>
            </ion-segment-button>
            <ion-segment-button value="buttons">
              <ion-label>{{ 'SETTINGS.HOME_UI_BUTTONS' | translate }}</ion-label>
            </ion-segment-button>
          </ion-segment>
        </div>
      </div>
    </div>

    
    <div class="form-row">
      <div class="section-header">
        <span>{{ 'SETTINGS.LEGAL_SUPPORT' | translate }}</span>
        <div class="section-underline"></div>
      </div>
      
      <div class="settings-list">
        <div class="setting-item" (click)="termsOfService()">
          <div class="setting-left">
            <ion-icon name="document-text-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.TERMS_OF_SERVICE' | translate }}</span>
          </div>
          <ion-icon name="chevron-forward-outline" class="arrow-icon"></ion-icon>
        </div>

        <div class="setting-item" (click)="privacyPolicy()">
          <div class="setting-left">
            <ion-icon name="shield-checkmark-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.PRIVACY_POLICY' | translate }}</span>
          </div>
          <ion-icon name="chevron-forward-outline" class="arrow-icon"></ion-icon>
        </div>

        <div class="setting-item" (click)="contactSupport()">
          <div class="setting-left">
            <ion-icon name="headset-outline" class="setting-icon"></ion-icon>
            <span class="setting-label">{{ 'SETTINGS.CONTACT_SUPPORT' | translate }}</span>
          </div>
          <ion-icon name="chevron-forward-outline" class="arrow-icon"></ion-icon>
        </div>
      </div>
    </div>

    
    <div class="form-row">
      <div class="section-header">
        <span>{{ 'SETTINGS.ABOUT_US' | translate }}</span>
        <div class="section-underline"></div>
      </div>
      
      <div class="about-card">
        <div class="about-content">
          <ion-icon name="information-circle-outline" class="about-icon"></ion-icon>
          <div class="about-text">
            <h3>GuardianCare</h3>
            <p>{{ 'SETTINGS.ABOUT_TEXT' | translate }}</p>
            <span class="version">{{ 'SETTINGS.VERSION' | translate }}</span>
          </div>
        </div>
      </div>
    </div>

    


    
    <div class="form-row">
      <div class="section-header">
        <span>{{ 'SETTINGS.ACCOUNT' | translate }}</span>
        <div class="section-underline"></div>
      </div>
      
      <div class="button-row">
        <button class="reset-btn" (click)="resetToDefaults()">
          <span>
            <ion-icon name="refresh-outline"></ion-icon>
            {{ 'SETTINGS.RESET_DEFAULTS' | translate }}
          </span>
        </button>
        <button class="logout-btn" (click)="logOut()">
          <span>
            <ion-icon name="log-out-outline"></ion-icon>
            {{ 'SETTINGS.LOGOUT' | translate }}
          </span>
        </button>
      </div>
    </div>
  </div>
</ion-content>
